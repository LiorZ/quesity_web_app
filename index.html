<html>
<head>
<!--  CSS Includes: -->
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css" />

<!-- Javascript includes: -->
<script type="text/javascript" src="js/lib/jquery/jquery.1.9.0.js"></script>

<script type="text/javascript" src="js/lib/jointjs/raphael.js"></script>
<script type="text/javascript" src="js/lib/jquery-ui/plugins/jquery-easing/jquery.easing.1.3.js"></script>
<script type="text/javascript" src="js/lib/jquery-ui/plugins/horizontal-accordion/liteaccordion.jquery.js"></script>
<script type="text/javascript" src="js/lib/jointjs/joint.js"></script>
<script type="text/javascript" src="js/lib/jointjs/json2.js"></script>
<script type="text/javascript" src="js/lib/jointjs/joint.dia.js"></script>
<script type="text/javascript" src="js/lib/jointjs/joint.dia.org.js"></script>

<script src="js/lib/jquery-ui/jquery-ui-1.10.0.custom.js"></script>

<script src="js/lib/underscore/underscore.js"></script>

<script src="js/lib/backbone/backbone.js"></script>
<!--  The app itself -->
<script type="text/javascript" src="js/views/appView.js"></script>

<script type="text/javascript" src="js/app.js"></script>
<script type="text/javascript" src="js/views/ConnectionButtonView.js"></script>
<script type="text/javascript" src="js/views/appView.js"></script>
<script type="text/javascript" src="js/views/QuestPageDiagramView.js"></script>
<script type="text/javascript" src="js/models/QuestPage.js"></script>
<script type="text/javascript" src="js/models/QuestPageCollection.js"></script>


<title>Quesity Editor</title>
<style type="text/css">
#menu {
	position: relative;
	left:-600;
}

#new_page_menu{
	width:150px;
	display:none;
	position:absolute;
}

.smaller_fonts {
	font-size:12px;
}
.btn_connection {
	display:inline;
	position:absolute;
	background-image: url("img/arrow_icon.png");
	background-size: 20px;
	width:20px;
	height:20px;
}
#toolbar {
		padding: 4px;
		display: inline-block;
		width:180px;
	}
body {
   background:url(
   
data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAIUlEQVQYV2NkYGDwAeIthGhGoAKiAEghzES8GkZNxBs8ALOvCQtmZ8UqAAAAAElFTkSuQmCC   ) repeat;
}
</style>
<script type="text/javascript">
$("document").ready(function(){

	var org = Joint.dia.org;
		Joint.paper("world");

		var static_page = org.Member.create({
			rect : {
				x : 305,
				y : 70,
				width : 180,
				height : 60
			},
			name : "Content page",
			position : "Name of the page",
			avatar : 'img/document_scroll.png',
			attrs : {
				fill : '#99FF99',
				stroke : 'gray'
			}
		});

		var location_page = org.Member.create({
			rect : {
				x : 90,
				y : 200,
				width : 180,
				height : 60
			},
			name : "Location page",
			position : "Name of the page",
			avatar : 'img/location_icon.png',
			attrs : {
					fill : '#BDDFFF',
					stroke : 'gray'
				}
		});

		var stall_page = org.Member.create({
			rect : {
				x : 300,
				y : 200,
				width : 180,
				height : 60
			},
			name : "Stall page",
			position : "Name of the page",
			avatar : 'img/stall_icon.png',
			attrs : {
					fill : '#FFFF99',
					stroke : 'gray'
				}
		});

		var question_page = org.Member.create({
			rect : {
				x : 500,
				y : 200,
				width : 180,
				height : 60
			},
			name : "Question page",
			position : "Name of the page",
			avatar : 'img/question_icon.png',
			attrs : {
					fill : '#FFCCCC',
					stroke : 'gray'
				}
		});

		/*homer.joint(marge, org.arrow);
		marge.joint(lisa, org.arrow);

		marge.joint(maggie, org.arrow).setVertices([ '375 380' ]);
		homer.joint(lenny, org.arrow).setVertices([ '165 380' ]);
		homer.joint(carl, org.arrow).setVertices([ '165 530' ]);*/
		$( "button" ).button();
		$("#menu_opener").mouseenter(function(e){
			e.preventDefault();
			this.blur();
			$("#menu").animate({left:0}, {duration: 1000, complete:function() {
				$("#menu_opener span").text("<<")
			}});
		});
		$("#menu").mouseleave(function(e){
			e.preventDefault();
			this.blur();
			 $("#new_page_menu").css('display','none');
			$("#menu").animate({left:-600}, {duration: 1000, complete: function() {
				$("#menu_opener span").text(">>")
			}});

		});
		
		$("#btn_new_page").click(function(e){
			var menu = $("#new_page_menu")
			menu.css('display','block');
			menu.offset({left:$("#btn_new_page").offset().left})
			
		});
		
		$("#new_page_menu").menu();
		$("#new_page_menu li").click(function(e) {
			console.log(this)
		});
		
		$("#btn_delete").button( {
			text: false,
			icons: {
				primary: "ui-icon-trash"
			}
		});
		
		$("#btn_edit").button( {
			text: false,
			icons: {
				primary: "ui-icon-pencil"
			}
		});
		
		});
</script>
<body>
<div id='container'>
<div id="menu">
	<button>Settings</button>
	<button id="btn_new_page">New Page</button>
	<button>Demo</button>
	<button>Publish</button>
	<button>Exit Editor</button>
	<button id="menu_opener" class="smaller_fonts">&gt;&gt; </button>
	<ul id="new_page_menu" class="smaller_fonts">
	<li><a href="#" data-page-type='location'>Location based page</a></li>
	<li><a href="#" data-page-type='question'>Question page</a></li>
	<li><a href="#" data-page-type='static'>Static page</a></li>
	<li><a href="#"data-page-type='surprise'>Surprise page</a></li>
	<li><a href="#" data-page-type='stall'>Stall page</a></li>
</ul>
</div>

<div id="toolbar" class="ui-widget-header ui-corner-all">
	<button id="btn_delete" class='smaller_fonts'>Delete page</button>
	<button id="btn_edit" class='smaller_fonts'>Edit page</button>
	
</div>

<div id='world' style="height:100%">
	
</div> <!-- world -->

<!--   <button id="btn_connection" class="smaller_fonts"></button> -->
</div> <!-- Container -->
</body>
</head>
</html>